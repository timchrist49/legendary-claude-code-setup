# Claude Code Operating Context

> Production-ready development environment with MCP tools, plugins, skills, and behavioral rules.
> Generated by Claude Code Super Setup

## Context Imports

Read and follow these files in order of priority:

1. `@RULES.md` - Core behavioral rules (highest priority)
2. `@PRINCIPLES.md` - Development principles
3. MCP Guidelines (load when using specific tools):
   - `@MCP/MCP_Context7.md` - Documentation lookup
   - `@MCP/MCP_Tavily.md` - Web search
   - `@MCP/MCP_Browserbase.md` - Cloud browser
   - `@MCP/MCP_Playwright.md` - Browser automation
   - `@MCP/MCP_Strawberry.md` - Verification
   - `@MCP/MCP_GitHub.md` - Repository operations
   - `@MCP/MCP_E2B.md` - Sandboxed code execution
   - `@MCP/MCP_SequentialThinking.md` - Problem decomposition
   - `@MCP/MCP_Memory.md` - Persistent memory (store facts)
4. Plugin Guidelines:
   - `@MCP/PLUGIN_Superpowers.md` - Structured workflows
   - `@MCP/PLUGIN_EpisodicMemory.md` - Search past conversations

## Prime Directive

Ship production-ready code for MVPs quickly with:
- Correct dependencies (verified via Context7)
- Current information (verified via Tavily)
- Minimal hallucination (verified via Strawberry)
- Working implementations (tested via Playwright)
- Remembered context (via Memory MCP + Episodic Memory)
- **Enforced discipline (via Superpowers workflow)**

## ⚠️ MANDATORY WORKFLOW RULES

**Superpowers is the PRIMARY workflow engine. You MUST use it for feature work.**

```
┌─────────────────────────────────────────────────────────────┐
│              ENFORCED WORKFLOW - NO EXCEPTIONS               │
├─────────────────────────────────────────────────────────────┤
│                                                              │
│  FOR ANY FEATURE/IMPLEMENTATION WORK:                        │
│                                                              │
│  1. MUST use /superpowers:brainstorm FIRST                   │
│     └─► Clarifies requirements before ANY coding             │
│     └─► Presents design for user approval                    │
│                                                              │
│  2. MUST use /superpowers:write-plan BEFORE coding           │
│     └─► Creates detailed implementation plan                 │
│     └─► Includes file paths, code snippets, tests            │
│                                                              │
│  3. MUST use /superpowers:execute-plan for implementation    │
│     └─► Executes in batches with checkpoints                 │
│     └─► Can orchestrate sub-agents for parallel work         │
│                                                              │
│  4. For debugging: MUST use /superpowers:systematic-debugging│
│     └─► 4-step process: reproduce, isolate, fix, verify      │
│                                                              │
│  NEVER skip straight to coding. The discipline is mandatory. │
│                                                              │
└─────────────────────────────────────────────────────────────┘
```

**Why This Matters:**
- Superpowers INTERCEPTS the urge to code immediately
- Superpowers ENFORCES structured thinking before action
- Superpowers enables SUB-AGENT orchestration for complex tasks
- Without this workflow, you're just a coding assistant, not a senior engineer

## Integrated Workflow (Superpowers-First)

```
1. RECALL    → Search Episodic Memory for relevant past discussions
              → Query Memory MCP for user preferences
2. CLARIFY   → MUST use /superpowers:brainstorm (not optional)
3. RESEARCH  → Use Tavily/Context7 to verify approaches
4. PLAN      → Use Sequential Thinking for complex analysis
              → MUST use /superpowers:write-plan for implementation
5. IMPLEMENT → MUST use /superpowers:execute-plan in batches
              → Orchestrate sub-agents for parallel work
              → Update STATE.md with progress
6. VERIFY    → Test each change, run Strawberry on security claims
7. STORE     → Save decisions to Memory MCP
              → Commit changes (Episodic Memory auto-indexes)
```

## Tool Ecosystem

### MCP Servers (9 total)
| Server | Purpose | Auto-Trigger |
|--------|---------|--------------|
| Context7 | Library documentation | Unfamiliar APIs |
| Tavily | Web search | Current info needed |
| Browserbase | Cloud browser | Web scraping |
| Playwright | Browser testing | UI verification |
| Strawberry | Hallucination check | Security/high-stakes |
| GitHub | Repo operations | PR/issue work |
| E2B | Sandboxed execution | Untrusted code |
| Sequential Thinking | Problem decomposition | Complex planning |
| Memory | Store preferences/decisions | User states preference |

### Plugins (2 total)
| Plugin | Commands | Auto-Trigger |
|--------|----------|--------------|
| Superpowers | `/superpowers:brainstorm`, `/superpowers:write-plan`, `/superpowers:execute-plan` | Feature planning |
| Episodic Memory | `/search-conversations` | Need past context |

### Slash Commands (GSD)
| Command | Purpose |
|---------|---------|
| `/gsd:new-project` | Initialize project with context files |
| `/gsd:plan` | Create implementation plan |
| `/gsd:execute` | Execute the plan |
| `/gsd:help` | Show all GSD commands |

## Memory System: When to Use What

```
┌─────────────────────────────────────────────────────────────┐
│                    MEMORY DECISION TREE                      │
├─────────────────────────────────────────────────────────────┤
│                                                              │
│  Need to STORE new information?                              │
│  └─► Use MEMORY MCP                                          │
│      • User preferences ("I prefer TypeScript")              │
│      • Architecture decisions (and WHY)                      │
│      • Project patterns learned                              │
│      • Corrections/feedback received                         │
│                                                              │
│  Need to FIND past information?                              │
│  └─► Use EPISODIC MEMORY                                     │
│      • "What did we decide about the API?"                   │
│      • "Find our discussion about authentication"            │
│      • "When did we debug the payment issue?"                │
│      • Search across ALL past Claude Code sessions           │
│                                                              │
└─────────────────────────────────────────────────────────────┘
```

| Scenario | Use This | Command/Tool |
|----------|----------|--------------|
| User says "I prefer X" | Memory MCP | `create_entities` |
| "What did we decide?" | Episodic Memory | `/search-conversations` |
| Made architecture choice | Memory MCP | `create_entities` + `create_relations` |
| "Find past discussion" | Episodic Memory | `/search-conversations` |
| Starting known project | BOTH | Memory (preferences) + Episodic (context) |
| Debugging recurring issue | Episodic Memory | `/search-conversations` |

## GSD + Superpowers Integration

Use them together for maximum effectiveness:

```
PROJECT SETUP (GSD):
└─► /gsd:new-project
    Creates: PROJECT.md, ROADMAP.md, STATE.md

FEATURE DEVELOPMENT (Superpowers):
└─► /superpowers:brainstorm    # Clarify the idea
└─► /superpowers:write-plan    # Detailed implementation plan
└─► /superpowers:execute-plan  # Execute in batches

PROGRESS TRACKING (GSD):
└─► Update STATE.md with decisions
└─► Update ROADMAP.md with completion

CONTEXT PERSISTENCE (Memory):
└─► Store decisions to Memory MCP
└─► Episodic Memory auto-indexes session
```

## MCP Auto-Usage Rules

These tools should be used AUTOMATICALLY in specific scenarios:

| Scenario | Auto-Use Tool |
|----------|---------------|
| Complex problem (>3 components) | Sequential Thinking |
| Security-related changes | Strawberry verification |
| Auth/payment/data migration | Strawberry verification |
| Unfamiliar library/framework | Tavily + Context7 research |
| User states a preference | Memory MCP (store it) |
| Architecture decisions made | Memory MCP (store rationale) |
| Session start on known project | Episodic Memory + Memory MCP |
| Need past context | Episodic Memory search |
| High-stakes implementation | Strawberry + E2B sandbox |
| Planning complex feature | Sequential Thinking + /superpowers:write-plan |

## Quick Reference

### Superpowers Plugin
```
/superpowers:brainstorm     # Clarify requirements before coding
/superpowers:write-plan     # Create detailed implementation plan
/superpowers:execute-plan   # Execute plan in reviewed batches
```

### Episodic Memory Plugin
```
/search-conversations       # Search past Claude Code sessions
"Find discussions about [topic]"
"What did we decide about [subject]?"
```

### Memory MCP
```
"Remember that I prefer [X]"
"Store this decision: [rationale]"
"Recall my preferences for this project"
```

### GSD Commands
```
/gsd:new-project            # Initialize project context
/gsd:plan                   # Create plan
/gsd:execute                # Execute plan
/gsd:help                   # Show help
```

## Session Lifecycle

### Session Start
1. Check for PROJECT.md, STATE.md, ROADMAP.md
2. **Search Episodic Memory** for relevant past discussions
3. **Query Memory MCP** for user preferences
4. Apply learned conventions

### During Session
1. Use appropriate MCP tools for tasks
2. Use Superpowers for structured planning/execution
3. Update STATE.md with progress
4. Store important decisions to Memory MCP

### Session End
1. Ensure STATE.md reflects current progress
2. Store any new preferences/learnings to Memory MCP
3. Commit changes (Episodic Memory auto-indexes)

## Output Requirements

Always provide:
- **Exact commands** to run
- **Exact file paths** (absolute when possible)
- **Expected output** for verification
- **Rollback steps** for risky changes

## Domain Skills (3 total)

These skills provide domain expertise that Superpowers doesn't cover:

| Skill | Domain | When to Use |
|-------|--------|-------------|
| @security-review | Security | Auth, payment, data, OWASP checks |
| @devsecops | Infrastructure | CI/CD, Docker, deployment |
| @research | Information | Technology decisions, best practices |

**Note:** Planning, implementation, debugging, and testing are handled by Superpowers workflows, not separate skills.

---

*Last updated: {{DATE}}*
*Framework: Claude Code Super Setup*
*Components: 9 MCP Servers • 2 Plugins • GSD Commands • 3 Domain Skills • 3 Hooks*
